# 网络
## 一、网络通信概述。
### 1.什么是网络。
    
### 2.使用网络的目的。
   网络就是为了联通多方然后进行通信用的，即把数据从一方传递到另外一方。
   前面学习的编程都是单机，即不能和其他电脑的程序进行通信，为了让在不同电脑上运行的软件，之间
   能够互相传递数据，就需要借助网络的功能。
##   二、IP（重点）
###   1.什么是IP地址。
   IP地址是用来标记网络上的一台电脑的。
###   2.查看电脑上的IP地址。
linux系统查看IP   -- ifconfig     关闭网卡方法  sudo ifconfig  网卡名 down
                                 开启网卡方法  sudo ifconfig  网卡名 up
windows系统查看IP  -- ipconfig

### 3.IP地址分类。
ipv4和ipv6 
每个IP地址分成两个部分，一个是网络地址，一个是主机地址。A、B、C、D、E
## 三、端口。
### 1.什么是端口？
端口好像是一个房间的门，是出入这个房间的必经之路。
如果一个程序需要收发数据，那么它就需要这样的端口。
### 2.端口号。
端口是通过端口号来标记的，端口号只有整数，范围是0到65535.
### 3.端口号是怎么分配的？
端口号不是随意使用的，而是按照一定的规则分配的。
端口的分配标准有几种，只介绍知名端口和动态端口。
###3.1知名端口（Well Known Ports）
知名端口是众所周知的端口号，范围是0到1023.
80端口分配给HTTP服务。21端口分配给FTP服务.
可理解为一些常用的功能使用的号码，例如手机号码110,10086一样。
### 3.2动态端口(Dynamic ports)
动态端口的范围是1024到65535.
之所以叫动态端口，是因为它一般不固定分配某种服务，而是动态分配。
动态分配是指当一个系统程序或应用程序需要网络通讯时，它向主机申请一个端口，主机从可用的端口中
分配一个供他使用。
当这个程序结束时，同时也就释放了占用的端口。
### 3.3怎样查看端口？
用"netstat -an"查看端口状态。
lsof -i[tcp/udp]:2425


# socket简介
##1.不同电脑之间如何通信？
首先要解决一个问题，就是如何唯一标记一个进程，否则通信无从谈起！
在一台电脑上可以用进程（PID）来唯一标识一个进程，但是在网络中是行不通的。
其实TCP/ip协议族已经帮助我们解决了这个问题，网络层的‘IP地址‘可以唯一标识一台网路中的主机电脑
而传输层的“协议+端口”可以唯一标识一台主机中的应用进程。

这样利用“IP地址、协议、端口”就可以标识网络的进程了。
    
注意：进程是指运行的程序以及运用时所用到的资源这个整体被称为进程。
     进程间通信是指运行程序之间的数据共享。

##2.什么是socket？
socket（简称套接字）是进程间通信的一种方式，他与其他进程间通信的一个主要个不同是：
它能实现不同主机间的进程通信，我们的网络上各种各样的服务大多都是基于socket来完成通信的，
例如浏览网页，QQ聊天等。

##3.创建socket。
在python中使用socket模块的函数就可以实现。
语法：
import socket
socket.socket(AddressFamily,type)    
说明：该函数带有两个参数。
AddressFamily: 可以选择AF_INET(用于Internet进程间的通信)或者AF_UNIX(用于
同一台机器进程间的通信)，实际工作中常用AF_INET。
Type:套接字类型。可以使SOCK_STREAM(流式套接字，主要用于TCP协议)或者SOCK_DGRAM
(数据报套接字，主要用于UDP协议)
###创建一个套接字
import socket
s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
发送数据 s.sendto(content,dest_addr_port)
s.close()关闭套接字


# TCP简介
TCP协议，传输控制协议（英语：Transmission Control Protocol）是一种面向连接的、可靠的、
基于字节流的传输层通信协议，由IETF的RFC 793定义。
TCP通信需要经过创建连接、数据传送、终止连接三个步骤。
TCP通信模型中，在通信开始之前，一定要先建立相关的链接，才能发送数据，类似生活中的‘打电话’
## TCP的特点
### 1.面向连接。
通信双方必须先建立连接才能进行数据的传输，双方都必须为该连接分配必要的系统内核资源，以管理连接的
状态和连接上的传输。
双方间的数据传输都可以通过这一个连接进行。
完成数据交换后，双方必须断开此连接，以释放系统资源。
### 2.可靠传输。
####1.TCP采用发送应答机制。
TCP发送的每个报文段都必须得到接收方的应答才认为这个TCP报文段传输成功。
####2.超时重传。
发送端发送出一个报文段之后就启动定时器，如果在定时时间内没有收到应答就重新发送这个报文段。
TCP为了保证不发生丢包，就给每一个包一个序号，同时序号也保证了传送到接收端实体的包的按序接收。
然后接收端实体对已成功收到的包发回一个相应的确认（ACK）；如果发送端实体在合理的往返时延（RTT）
内未收到确认，那么对应的数据包就被假设为已丢失将会被进行重传。
###3.错误校验
TCP用一个校验和函数来校验数据是否有错误；在发送和接收时都要计算校验和。
###4.流量控制和阻塞管理。
流量控制用来避免主机发送得过快而使接收方来不及完全收下。

## TCP客户端创建流程
###1.创建套接字
###2.链接
###3.发送、接收数据
###4.关闭套接字。

## TCP服务器创建流程。
###1.socket创建套接字。
###2.绑定端口、ip。
###3.listen使套接字变为被动绑定
###4.accept等待客户端的链接。
###5.recv/send接收发送数据。






